split:
  cmd: python -m spacy run split
  script:
    - python scripts/split_data.py assets/features_size_color.csv assets/train.json
      assets/val.json 0.6
  deps:
    - path: assets/features_size_color.csv
      md5: 4fc26018baab340ba1875a6f58375d5e
    - path: scripts/split_data.py
      md5: 63d7acbd97a9a4ea9f1e50090f5511f9
  outs:
    - path: assets/train.json
      md5: aef57f9edea30b1f380caf751d709fd9
    - path: assets/val.json
      md5: a4165d59430557fe3c5e45d1d887e2d7
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
convert:
  cmd: python -m spacy run convert
  script:
    - python scripts/convert.py es assets/train.json corpus/train.spacy
    - python scripts/convert.py es assets/val.json corpus/val.spacy
  deps:
    - path: assets/train.json
      md5: aef57f9edea30b1f380caf751d709fd9
    - path: assets/val.json
      md5: a4165d59430557fe3c5e45d1d887e2d7
    - path: scripts/convert.py
      md5: 615662cc5af0c87f9317ed862a27197b
  outs:
    - path: corpus/train.spacy
      md5: dd016b8660b9db1a5d75c434c79f6746
    - path: corpus/val.spacy
      md5: 4b708c033b8c7d14d3e8bdf5a6940012
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
setup:
  cmd: python -m spacy run setup
  script:
    - python setup.py
  deps:
    - path: setup.py
      md5: dc76a8513161224a98b17dae1e1f74a1
  outs: []
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
create-config:
  cmd: python -m spacy run create-config
  script:
    - python -m spacy init fill-config configs/base_config.cfg configs/config.cfg
  deps:
    - path: configs/base_config.cfg
      md5: ebae7a6bbdfbdaf96354ff542d562d5e
  outs:
    - path: configs/config.cfg
      md5: 1c5164a2bd1bd779f812ab8a3fc6247f
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train configs/config.cfg --output out --paths.dev corpus/val.spacy
      --paths.train corpus/train.spacy --training.eval_frequency 10 --training.max_steps
      600 --training.patience 100 --gpu-id 0
  deps:
    - path: configs/config.cfg
      md5: 84c70006cd524c542fc69f6947c9a548
    - path: assets/train.json
      md5: aef57f9edea30b1f380caf751d709fd9
    - path: assets/val.json
      md5: a4165d59430557fe3c5e45d1d887e2d7
  outs:
    - path: out/model-best
      md5: 22a5b1219da47a98e1fddf6dea2ec83f
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate out/model-best corpus/val.spacy --output out/metrics.json
      --gpu-id 0
  deps:
    - path: out/model-best
      md5: 5d4c3c742f5415d457b6fb574862d007
    - path: assets/val.json
      md5: d1d9c50f81cf9af6ed4cc1fe82a6fd70
  outs:
    - path: out/metrics.json
      md5: 49d67ce05a9488fafdbde14607ec845f
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package out/model-best packages --name yoda_ner --version 0.0.2
      --force
  deps:
    - path: out/model-best
      md5: 5d4c3c742f5415d457b6fb574862d007
  outs:
    - path: packages/es_yoda_ner-0.0.2/dist/es_yoda_ner-0.0.2.tar.gz
      md5: 9b481540bb4b3df9d060563a4fb99fff
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
config:
  cmd: python -m spacy run config
  script:
    - python -m spacy init fill-config configs/base_config.cfg configs/config.cfg
  deps:
    - path: configs/base_config.cfg
      md5: 91f7ea2121a841d353981676e50fb4cc
  outs:
    - path: configs/config.cfg
      md5: 84c70006cd524c542fc69f6947c9a548
  spacy_version: 3.4.0
  spacy_git_version: d583626a8
